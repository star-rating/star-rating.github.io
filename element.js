customElements.define("star-rating",class extends HTMLElement{set rating(t){String(t).includes("%")||(t=Number(t)/this.stars*100+"%"),this.querySelector("#rating").setAttribute("width",t)}connectedCallback(){let{bgcolor:t,stars:e,nocolor:i,color:a,rating:s}=this.attributes,l=(t,e)=>Array(t).fill().map(e);this.stars=~~e.value||5,this.innerHTML=`<svg viewBox="0 0 ${100*this.stars} 100" style=cursor:pointer;width:100%><rect width=100% height=100 fill=${i.value} /><rect id=rating  height=100 fill=${a.value} />`+l(this.stars,((e,i)=>`<path fill=${t.value} d="M${100*i} 0h102v100h-102v-100m91 42a6 6 90 00-4-10l-22-1a1 1 90 01-1 0l-8-21a6 6 90 00-11 0l-8 21a1 1 90 01-1 1l-22 1a6 6 90 00-4 10l18 14a1 1 90 010 1l-6 22a6 6 90 008 6l19-13a1 1 90 011 0l19 13a6 6 90 006 0a6 6 90 002-6l-6-22a1 1 90 010-1z"/>`))+l(2*this.stars,((t,e)=>`<rect x=${50*e} n=${e} opacity=0 width=50 height=100  onclick="this.parentNode.dispatchEvent(new Event('click'))"  onmouseover=this.closest('star-rating').rating=${(e+1)/2} />`))+"</svg>",this.rating=s.value}})
